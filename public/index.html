<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" href="<%= BASE_URL %>favicon.ico">
  <title>Uniform</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css">
  <script>
    // set Google Analytics GTAG4 trackingId
    const analyticsTrackingId = null;
    // set Google Optimize containerId
    const optimizeContainerId = null;
    // set HotJar trackingId
    const hotjarTrackingId = null;

    /* Google Analytics 4 */
    window.gtag = () => {
    };
    if (analyticsTrackingId) {
      const script = document.createElement('script');
      script.onload = function () {
        window.dataLayer = window.dataLayer || [];

        function gtag() {
          dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', analyticsTrackingId);
        window.gtag = gtag;
      };
      script.src = `https://www.googletagmanager.com/gtag/js?id=${analyticsTrackingId}`;
      document.head.appendChild(script);
    }

    /* Google Optimize */
    if (optimizeContainerId) {
      const script = document.createElement('script');
      script.onload = function () {
        setTimeout(() => {
          window.gtag('event', 'optimize.loaded', {
            optimizeContainerId: optimizeContainerId,
          })
        }, 100);
      };
      script.src = `https://www.googleoptimize.com/optimize.js?id=${optimizeContainerId}`;
      document.head.appendChild(script);
    }

    /* Hotjar */
    if (hotjarTrackingId) {
      (function (h, o, t, j, a, r) {
        h.hj = h.hj || function () {
          (h.hj.q = h.hj.q || []).push(arguments)
        };
        h._hjSettings = {hjid: hotjarTrackingId, hjsv: 6};
        a = o.getElementsByTagName('head')[0];
        r = o.createElement('script');
        r.async = 1;
        r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
        a.appendChild(r);
      })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
    }

    /* Browser Incompatibility Check */
    // we will not be supporting any of the old IE variants
    if (navigator.userAgent.includes('MSIE') || navigator.userAgent.includes('Trident')) {
      window.location = '/incompatible.html';
    }

    /* Dark Mode White Flicker Fix */
    // avoid white flicker when navigating while in dark-mode
    if (window && window.localStorage) {
      const dark = window.localStorage.getItem('theme.dark');
      if (dark !== null) {
        const css = 'body { background: #121212; }',
          head = document.head || document.getElementsByTagName('head')[0],
          style = document.createElement('style');

        head.appendChild(style);

        style.type = 'text/css';
        if (style.styleSheet) {
          // This is required for IE8 and below.
          style.styleSheet.cssText = css;
        } else {
          style.appendChild(document.createTextNode(css));
        }
      }
    }
  </script>
</head>
<body>
  <noscript>
    <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled.
      Please enable it to continue.</strong>
  </noscript>
  <div id="app"></div>
  <!-- built files will be auto injected -->
</body>
</html>
